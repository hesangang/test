import{g as e}from"./request.3d7b0f56.js";import{p as t,a,r as l,o as n,c as r,f as d,t as o,w as s,h as i}from"./vendor.62413589.js";import"./index.e1526510.js";const c={watch:{filterText(e){this.$refs.tree.filter(e)}},data:()=>({filterText:"",tree:{data:[],defaultProps:{children:"children",label:"name"}},query:{method:null,name:null,page:1,pageSize:10},transferData:[],transferValue:[]}),methods:{handleNodeClick(e){console.log(e)},filterNode:(e,t)=>!e||-1!==t.name.indexOf(e),treeFun(){e("/menu/tree",null).then((e=>{this.tree.data=e.data}))},append(e){e.children||(e.children=[]),e.children.push({name:"testtest",children:[]}),this.tree.data=[...this.data]},remove(e,t){const a=e.parent,l=a.data.children||a.data,n=l.findIndex((e=>e.id===t.id));l.splice(n,1),this.data=[...this.data]},searchFun(){""===this.query.method&&(this.query.method=null),e("/resource",this.query).then((e=>{this.transferData=e.data.result}))}},mounted(){this.treeFun(),this.searchFun()}},u=s();t("data-v-7a49468a");const h={class:"custom-tree-container"},f={class:"block"},p={class:"custom-tree-node"},m={class:"block"},k=i("操作"),C=i("操作");a();const g=u(((e,t,a,s,i,c)=>{const g=l("el-input"),x=l("el-tree"),b=l("el-col"),y=l("el-button"),V=l("el-transfer"),_=l("el-row");return n(),r("div",h,[d(_,{gutter:20},{default:u((()=>[d(b,{span:8},{default:u((()=>[d("div",f,[d(g,{placeholder:"输入关键字进行过滤",modelValue:i.filterText,"onUpdate:modelValue":t[1]||(t[1]=e=>i.filterText=e)},null,8,["modelValue"]),d(x,{data:i.tree.data,props:i.tree.defaultProps,"filter-node-method":c.filterNode,ref:"tree",onNodeClick:c.handleNodeClick,"node-key":"id","icon-class":"el-icon-position","check-strictly":!0,"expand-on-click-node":!0},{default:u((({node:e,data:t})=>[d("span",p,[d("span",null,o(e.label),1),d("span",null,[d("a",{onClick:e=>c.append(t)}," Append ",8,["onClick"]),d("a",{onClick:a=>c.remove(e,t)}," Delete ",8,["onClick"])])])])),_:1},8,["data","props","filter-node-method","onNodeClick"])])])),_:1}),d(b,{span:16},{default:u((()=>[d("div",m,[d(V,{modelValue:i.transferValue,"onUpdate:modelValue":t[2]||(t[2]=e=>i.transferValue=e),style:{"text-align":"left",display:"inline-block"},filterable:"",props:{key:"id",label:"name"},"left-default-checked":[2,3],"right-default-checked":[1],"render-content":e.renderFunc,titles:["全部","已选"],"button-texts":["到左边","到右边"],format:{noChecked:"${total}",hasChecked:"${checked}/${total}"},data:i.transferData,onChange:e.handleChange},{"left-footer":u((()=>[d(y,{class:"transfer-footer",size:"small"},{default:u((()=>[k])),_:1})])),"right-footer":u((()=>[d(y,{class:"transfer-footer",size:"small"},{default:u((()=>[C])),_:1})])),_:1},8,["modelValue","render-content","data","onChange"])])])),_:1})])),_:1})])}));c.render=g,c.__scopeId="data-v-7a49468a";export default c;
